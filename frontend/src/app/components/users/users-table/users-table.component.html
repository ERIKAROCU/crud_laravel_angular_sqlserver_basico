<!-- users-table.component.html -->
<div class="p-6 bg-white-300 rounded-2xl shadow-lg">
  <h2 class="text-2xl font-bold text-gray-800 mb-6">Lista de Usuarios</h2>

  <button
    mat-raised-button
    color="primary"
    (click)="openDialog()"
    class="mb-4 flex items-center space-x-2 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white px-4 py-2 rounded-lg shadow-md transition duration-300"
  >
    <i class="fas fa-user-plus"></i>
    <span>Agregar Usuario</span>
  </button>

  <!-- Users Table -->
  <div class="overflow-x-auto">
    <table mat-table [dataSource]="users" class="w-full bg-gray-100 rounded-lg shadow-md">
      <!-- ID Column -->
      <ng-container matColumnDef="id">
        <td mat-header-cell *matHeaderCellDef class="bg-blue-800 text-white py-3 px-4">NÂ°</td>
        <td mat-cell *matCellDef="let user" class="py-3 px-4">{{ user.id }}</td>
      </ng-container>

      <!-- Name Column -->
      <ng-container matColumnDef="name">
        <td mat-header-cell *matHeaderCellDef class="bg-blue-800 text-white py-3 px-4">Nombre</td>
        <td mat-cell *matCellDef="let user" class="py-3 px-4">{{ user.name }}</td>
      </ng-container>

      <!-- Email Column -->
      <ng-container matColumnDef="email">
        <td mat-header-cell *matHeaderCellDef class="bg-blue-800 text-white py-3 px-4">Email</td>
        <td mat-cell *matCellDef="let user" class="py-3 px-4">{{ user.email }}</td>
      </ng-container>

      <!-- Role Column -->
      <ng-container matColumnDef="rol">
        <td mat-header-cell *matHeaderCellDef class="bg-blue-800 text-white py-3 px-4">Rol</td>
        <td mat-cell *matCellDef="let user" class="py-3 px-4">
          <span
            class="px-3 py-1 rounded-full text-white text-sm font-semibold"
            [ngClass]="{ 'bg-green-500': user.rol === 'admin', 'bg-blue-500': user.rol === 'user' }"
          >
            {{ user.rol }}
          </span>
        </td>
      </ng-container>

      <!-- Status Column -->
      <ng-container matColumnDef="is_active">
        <td mat-header-cell *matHeaderCellDef class="bg-blue-800 text-white py-3 px-4">Estado</td>
        <td mat-cell *matCellDef="let user" class="py-3 px-4">
          <span
            class="px-3 py-1 rounded-full text-white text-sm font-semibold"
            [ngClass]="{ 'bg-green-600': user.is_active, 'bg-red-600': !user.is_active }"
          >
            {{ user.is_active ? 'Activo' : 'Inactivo' }}
          </span>
        </td>
      </ng-container>

      <!-- Actions Column -->
      <ng-container matColumnDef="acciones">
        <td mat-header-cell *matHeaderCellDef class="bg-blue-800 text-white py-3 px-4">Acciones</td>
        <td mat-cell *matCellDef="let user" class="py-3 px-4 space-x-2">
          <button
            mat-icon-button
            (click)="editUser(user)"
            aria-label="Editar"
            class="text-blue-600 hover:text-blue-800 transition duration-300"
          >
            <i class="fas fa-edit"></i>
          </button>
          <button
            mat-icon-button
            aria-label="Eliminar"
            class="text-red-600 hover:text-red-800 transition duration-300"
          >
            <i class="fas fa-trash"></i>
          </button>
        </td>
      </ng-container>

      <!-- Table Header and Rows -->
      <tr mat-header-row *matHeaderRowDef="displayedColumns" class="bg-blue-900 text-white"></tr>
      <tr
        mat-row
        *matRowDef="let row; columns: displayedColumns;"
        class="hover:bg-gray-200 transition duration-200"
      ></tr>
    </table>
  </div>
</div>
